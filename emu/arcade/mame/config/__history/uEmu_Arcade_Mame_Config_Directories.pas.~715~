unit uEmu_Arcade_Mame_Config_Directories;

interface

uses
  System.Classes,
  System.SysUtils,
  System.UITypes,
  System.UIConsts,
  FMX.Edit,
  FMX.StdCtrls,
  FMX.Types,
  FMX.Layouts,
  FMX.TabControl,
  FMX.Objects,
  VCL.FileCtrl,
  ALFmxLayouts;

procedure uEmu_Arcade_Mame_Config_Create_Directories_Panel;
procedure uEmu_Arcade_Mame_Config_Create_RomPaths;

// Actions
procedure uEmu_Arcade_Mame_Config_CheckAndDowload(vNum: Integer);
procedure uEmu_Arcade_Mame_Config_Media_Find(vNum: Integer);
procedure uEmu_Arcade_Mame_Config_Roms_Find;

procedure uEmu_Arcade_Mame_Config_Directories_TabItemClick(vName: String);

implementation

uses
  uLoad_AllTypes,
  uSnippet_Text,
  uEmu_Arcade_Mame_AllTypes,
  uEmu_Arcade_Mame_Config,
  uEmu_Arcade_Mame_Gamelist;

procedure uEmu_Arcade_Mame_Config_CheckAndDowload(vNum: Integer);
begin
  vMame.Config.Scene.Main_Blur.Enabled := True;

  vMame.Config.Panel.Dirs.Check := TPanel.Create(vMame.Scene.Main);
  vMame.Config.Panel.Dirs.Check.Name := 'Mame_Dir_Check';
  vMame.Config.Panel.Dirs.Check.Parent := vMame.Scene.Main;
  vMame.Config.Panel.Dirs.Check.SetBounds(((vMame.Scene.Main.Width / 2) - 200),
    ((vMame.Scene.Main.Height / 2) - 105), 400, 200);
  vMame.Config.Panel.Dirs.Check.Visible := True;

  vMame.Config.Panel.Dirs.Check_Header := TPanel.Create(vMame.Config.Panel.Dirs.Check);
  vMame.Config.Panel.Dirs.Check_Header.Name := 'Mame_Dir_Check_Header';
  vMame.Config.Panel.Dirs.Check_Header.Parent := vMame.Config.Panel.Dirs.Check;
  vMame.Config.Panel.Dirs.Check_Header.SetBounds(0, 0, 400, 30);
  vMame.Config.Panel.Dirs.Check_Header.Visible := True;

  vMame.Config.Panel.Dirs.Check_Header_Label := TLabel.Create(vMame.Config.Panel.Dirs.Check);
  vMame.Config.Panel.Dirs.Check_Header_Label.Name := 'Mame_Dir_Check_Header_Label';
  vMame.Config.Panel.Dirs.Check_Header_Label.Parent := vMame.Config.Panel.Dirs.Check;
  vMame.Config.Panel.Dirs.Check_Header_Label.SetBounds(10, 3, 400, 24);
  vMame.Config.Panel.Dirs.Check_Header_Label.Text := 'Check and download " "';
  vMame.Config.Panel.Dirs.Check_Header_Label.Visible := True;

  vMame.Config.Panel.Dirs.Check_Main := TPanel.Create(vMame.Config.Panel.Dirs.Check);
  vMame.Config.Panel.Dirs.Check_Main.Name := 'Mame_Dir_Check_Main';
  vMame.Config.Panel.Dirs.Check_Main.Parent := vMame.Config.Panel.Dirs.Check;
  vMame.Config.Panel.Dirs.Check_Main.SetBounds(0, 30, 400, 170);
  vMame.Config.Panel.Dirs.Check_Main.Visible := True;

  vMame.Config.Panel.Dirs.Check_Main_Label := TLabel.Create(vMame.Config.Panel.Dirs.Check_Main);
  vMame.Config.Panel.Dirs.Check_Main_Label.Name := 'Mame_Dir_Check_Main_Label';
  vMame.Config.Panel.Dirs.Check_Main_Label.Parent := vMame.Config.Panel.Dirs.Check_Main;
  vMame.Config.Panel.Dirs.Check_Main_Label.SetBounds(10, 30, 400, 24);
  vMame.Config.Panel.Dirs.Check_Main_Label.Text := 'Now matching the versions between server and computer.';
  vMame.Config.Panel.Dirs.Check_Main_Label.Visible := True;

  vMame.Config.Panel.Dirs.Check_Main_ProgressBar := TProgressBar.Create(vMame.Config.Panel.Dirs.Check_Main);
  vMame.Config.Panel.Dirs.Check_Main_ProgressBar.Name := 'Mame_Dir_Check_Progressbar';
  vMame.Config.Panel.Dirs.Check_Main_ProgressBar.Parent := vMame.Config.Panel.Dirs.Check_Main;
  vMame.Config.Panel.Dirs.Check_Main_ProgressBar.SetBounds(10, 110, 380, 20);
  vMame.Config.Panel.Dirs.Check_Main_ProgressBar.Value := 10;
  vMame.Config.Panel.Dirs.Check_Main_ProgressBar.Min := 0;
  vMame.Config.Panel.Dirs.Check_Main_ProgressBar.Max := 100;
  vMame.Config.Panel.Dirs.Check_Main_ProgressBar.Visible := True;
end;

procedure uEmu_Arcade_Mame_Config_Create_RomPaths;
var
  vi: Integer;
  vRoms: WideString;
begin
  vMame.Config.Panel.Dirs.Roms_VertScrollBox := TVertScrollBox.Create(vMame.Config.Panel.Dirs.Roms);
  vMame.Config.Panel.Dirs.Roms_VertScrollBox.Name := 'Mame_Dir_Roms_VertScrollbox';
  vMame.Config.Panel.Dirs.Roms_VertScrollBox.Parent := vMame.Config.Panel.Dirs.Roms;
  vMame.Config.Panel.Dirs.Roms_VertScrollBox.SetBounds(10, 34, vMame.Config.Panel.Dirs.TabControl.Width - 20,
    vMame.Config.Panel.Dirs.TabControl.Height - 64);
  vMame.Config.Panel.Dirs.Roms_VertScrollBox.ShowScrollBars := True;
  vMame.Config.Panel.Dirs.Roms_VertScrollBox.Visible := True;

  for vi := 0 to mame.Emu.Ini.CORE_SEARCH_rompath.Count - 1 do
  begin
    vMame.Config.Panel.Dirs.Roms_Edit[vi] := TEdit.Create(vMame.Config.Panel.Dirs.Roms_VertScrollBox);
    vMame.Config.Panel.Dirs.Roms_Edit[vi].Name := 'Mame_Dir_Roms_Dir_' + IntToStr(vi);
    vMame.Config.Panel.Dirs.Roms_Edit[vi].Parent := vMame.Config.Panel.Dirs.Roms_VertScrollBox;
    vMame.Config.Panel.Dirs.Roms_Edit[vi].SetBounds(5, (5 + ((vi * 30) + (vi * 10))),
      vMame.Config.Panel.Dirs.Roms_VertScrollBox.Width - 64, 30);
    if mame.Emu.Ini.CORE_SEARCH_rompath.Strings[vi] = 'roms' then
      vRoms := mame.Emu.Path + 'roms'
    else
      vRoms := mame.Emu.Ini.CORE_SEARCH_rompath.Strings[vi];
    vMame.Config.Panel.Dirs.Roms_Edit[vi].Text := vRoms;
    vMame.Config.Panel.Dirs.Roms_Edit[vi].Visible := True;

    if mame.Emu.Ini.CORE_SEARCH_rompath.Strings[vi] <> 'roms' then
    begin
      vMame.Config.Panel.Dirs.Roms_Del[vi] := TSpeedButton.Create(vMame.Config.Panel.Dirs.Roms_VertScrollBox);
      vMame.Config.Panel.Dirs.Roms_Del[vi].Name := 'Mame_Dir_Roms_Del_' + IntToStr(vi);
      vMame.Config.Panel.Dirs.Roms_Del[vi].Parent := vMame.Config.Panel.Dirs.Roms_VertScrollBox;
      vMame.Config.Panel.Dirs.Roms_Del[vi].SetBounds((vMame.Config.Panel.Dirs.Roms_VertScrollBox.Width - 50),
        (5 + ((vi * 30) + (vi * 10))), 50, 30);
      vMame.Config.Panel.Dirs.Roms_Del[vi].StyleLookup := 'delettoolbutton';
      vMame.Config.Panel.Dirs.Roms_Del[vi].StyledSettings:= vMame.Config.Panel.Dirs.Roms_Del[vi].StyledSettings - [TstyledSetting.FontColor];
      vMame.Config.Panel.Dirs.Roms_Del[vi].TextSettings.FontColor:= TAlphaColorRec.Red;
      vMame.Config.Panel.Dirs.Roms_Del[vi].Text := 'Delete';
      vMame.Config.Panel.Dirs.Roms_Del[vi].OnClick:=
      vMame.Config.Panel.Dirs.Roms_Del[vi].Visible := True;
    end;
  end;
end;

// Directories
procedure uEmu_Arcade_Mame_Config_Create_Directories_Panel;
var
  vi: Integer;
begin
  vMame.Config.Panel.Dirs.TabControl := TTabControl.Create(vMame.Config.Scene.Right_Panels[0]);
  vMame.Config.Panel.Dirs.TabControl.Name := 'Mame_Dir_Master_TabControl';
  vMame.Config.Panel.Dirs.TabControl.Parent := vMame.Config.Scene.Right_Panels[0];
  vMame.Config.Panel.Dirs.TabControl.Align := TAlignLayout.Client;
  vMame.Config.Panel.Dirs.TabControl.Visible := True;

  vMame.Config.Panel.Dirs.Roms := TTabItem.Create(vMame.Config.Panel.Dirs.TabControl);
  vMame.Config.Panel.Dirs.Roms.Name := 'Mame_Dir_Tab_Roms';
  vMame.Config.Panel.Dirs.Roms.Parent := vMame.Config.Panel.Dirs.TabControl;
  vMame.Config.Panel.Dirs.Roms.Text := 'Roms';
  vMame.Config.Panel.Dirs.Roms.OnClick := mame.Config.Input.Mouse.TabItem.onMouseClick;
  vMame.Config.Panel.Dirs.Roms.Visible := True;

  vMame.Config.Panel.Dirs.Media := TTabItem.Create(vMame.Config.Panel.Dirs.TabControl);
  vMame.Config.Panel.Dirs.Media.Name := 'Mame_Dir_Tab_Media';
  vMame.Config.Panel.Dirs.Media.Parent := vMame.Config.Panel.Dirs.TabControl;
  vMame.Config.Panel.Dirs.Media.Text := 'Media';
  vMame.Config.Panel.Dirs.Media.OnClick := mame.Config.Input.Mouse.TabItem.onMouseClick;
  vMame.Config.Panel.Dirs.Media.Visible := True;

  // Roms
  vMame.Config.Panel.Dirs.Roms_Find := TSpeedButton.Create(vMame.Config.Panel.Dirs.Roms);
  vMame.Config.Panel.Dirs.Roms_Find.Name := 'Mame_Dir_Roms_Add_Button';
  vMame.Config.Panel.Dirs.Roms_Find.Parent := vMame.Config.Panel.Dirs.Roms;
  vMame.Config.Panel.Dirs.Roms_Find.SetBounds(vMame.Config.Panel.Dirs.TabControl.Width - 42, 10, 24, 24);
  vMame.Config.Panel.Dirs.Roms_Find.StyleLookup := 'addtoolbutton';
  vMame.Config.Panel.Dirs.Roms_Find.Hint := 'Add new rom path';
  vMame.Config.Panel.Dirs.Roms_Find.ShowHint := True;
  vMame.Config.Panel.Dirs.Roms_Find.OnClick := mame.Config.Input.Mouse.SpeedButton.onMouseClick;
  vMame.Config.Panel.Dirs.Roms_Find.Tag := -1;
  vMame.Config.Panel.Dirs.Roms_Find.Visible := True;

  uEmu_Arcade_Mame_Config_Create_RomPaths;

  // Media
  vMame.Config.Panel.Dirs.Media_VertScrollBox := TVertScrollBox.Create(vMame.Config.Panel.Dirs.Media);
  vMame.Config.Panel.Dirs.Media_VertScrollBox.Name := 'Mame_Dir_Media_VertScrollbox';
  vMame.Config.Panel.Dirs.Media_VertScrollBox.Parent := vMame.Config.Panel.Dirs.Media;
  vMame.Config.Panel.Dirs.Media_VertScrollBox.SetBounds(10, 10,
    (vMame.Config.Panel.Dirs.TabControl.Width - 20), (vMame.Config.Panel.Dirs.TabControl.Height - 60));
  vMame.Config.Panel.Dirs.Media_VertScrollBox.ShowScrollBars := True;
  vMame.Config.Panel.Dirs.Media_VertScrollBox.Visible := True;

  for vi := 0 to 25 do
  begin
    vMame.Config.Panel.Dirs.Media_Labels[vi] := TLabel.Create(vMame.Config.Panel.Dirs.Media_VertScrollBox);
    vMame.Config.Panel.Dirs.Media_Labels[vi].Name := 'Mame_Dir_Media_Label_' + IntToStr(vi);
    vMame.Config.Panel.Dirs.Media_Labels[vi].Parent := vMame.Config.Panel.Dirs.Media_VertScrollBox;
    vMame.Config.Panel.Dirs.Media_Labels[vi].SetBounds(5, (5 + ((vi * 30) + (vi * 25))), 400, 24);
    vMame.Config.Panel.Dirs.Media_Labels[vi].Text := cMame_Config_Media_dirs[vi];
    vMame.Config.Panel.Dirs.Media_Labels[vi].Visible := True;

    vMame.Config.Panel.Dirs.Media_Edit[vi] := TEdit.Create(vMame.Config.Panel.Dirs.Media_VertScrollBox);
    vMame.Config.Panel.Dirs.Media_Edit[vi].Name := 'Mame_Dir_Media_Path_' + IntToStr(vi);
    vMame.Config.Panel.Dirs.Media_Edit[vi].Parent := vMame.Config.Panel.Dirs.Media_VertScrollBox;
    vMame.Config.Panel.Dirs.Media_Edit[vi].Width := vMame.Config.Panel.Dirs.Media_VertScrollBox.Width - 60;
    vMame.Config.Panel.Dirs.Media_Edit[vi].Height := 30;
    vMame.Config.Panel.Dirs.Media_Edit[vi].Position.X := 5;
    vMame.Config.Panel.Dirs.Media_Edit[vi].Position.Y := 25 + ((vi * 30) + (vi * 25));
    case vi of
      0:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Artworks;
      1:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Cabinets;
      2:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Control_Panels;
      3:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Covers;
      4:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Flyers;
      5:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Fanart;
      6:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Icons;
      7:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Manuals;
      8:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Marquees;
      9:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Pcbs;
      10:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Snapshots;
      11:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Titles;
      12:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Artwork_Preview;
      13:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Bosses;
      14:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Ends;
      15:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.How_To;
      16:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Logos;
      17:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Scores;
      18:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Selects;
      19:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Versus;
      20:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Game_Over;
      21:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Warnings;
      22:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Stamps;
      23:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Soundtracks;
      24:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Support_Files;
      25:
        vMame.Config.Panel.Dirs.Media_Edit[vi].Text := mame.Emu.Media.Videos;
    end;
    vMame.Config.Panel.Dirs.Media_Edit[vi].Visible := True;

    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi] :=
      TText.Create(vMame.Config.Panel.Dirs.Media_VertScrollBox);
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Name := 'Mame_Dir_Media_CAD_' + IntToStr(vi);
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Parent := vMame.Config.Panel.Dirs.Media_VertScrollBox;
    if (extrafe.style.Name = 'Amakrits') or (extrafe.style.Name = 'Dark') or (extrafe.style.Name = 'Air') then
      vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].TextSettings.FontColor := claWhite
    else
      vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].TextSettings.FontColor := claBlack;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Font.style :=
      vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Font.style + [TFontStyle.fsBold];
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].TextSettings.HorzAlign := TTextAlign.Trailing;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Text := 'Check and Download ' +
      cMame_Config_Media_dirs[vi];
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Position.Y := 5 + ((vi * 30) + (vi * 25));
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Height := 22;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Visible := True;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Width :=
      uTText_TextToPixels(vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi]);
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Position.X := vMame.Config.Panel.Dirs.Media_Edit[vi]
      .Width - vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Width;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].OnMouseEnter :=
      mame.Config.Input.Mouse.Text.OnMouseEnter;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].OnMouseLeave :=
      mame.Config.Input.Mouse.Text.OnMouseLeave;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].OnClick := mame.Config.Input.Mouse.Text.onMouseClick;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Tag := vi;
    vMame.Config.Panel.Dirs.Media_CheckAndDownload[vi].Visible := True;

    vMame.Config.Panel.Dirs.Media_Change[vi] :=
      TSpeedButton.Create(vMame.Config.Panel.Dirs.Media_VertScrollBox);
    vMame.Config.Panel.Dirs.Media_Change[vi].Name := 'Mame_Dir_Media_Change_' + IntToStr(vi);
    vMame.Config.Panel.Dirs.Media_Change[vi].Parent := vMame.Config.Panel.Dirs.Media_VertScrollBox;
    vMame.Config.Panel.Dirs.Media_Change[vi].SetBounds
      ((vMame.Config.Panel.Dirs.Media_VertScrollBox.Width - 50), (25 + ((vi * 30) + (vi * 25))), 30, 30);
    vMame.Config.Panel.Dirs.Media_Change[vi].StyleLookup := 'delettoolbutton';
    vMame.Config.Panel.Dirs.Media_Change[vi].Text := '...';
    vMame.Config.Panel.Dirs.Media_Change[vi].OnClick := mame.Config.Input.Mouse.SpeedButton.onMouseClick;
    vMame.Config.Panel.Dirs.Media_Change[vi].Tag := vi;
    vMame.Config.Panel.Dirs.Media_Change[vi].Visible := True;
  end;

  vMame.Config.Panel.Dirs.TabControl.TabIndex := 0;
end;

procedure uEmu_Arcade_Mame_Config_Roms_Find;
const
  m = 1000;
var
  dir: string;
begin
  if SelectDirectory(dir, [sdAllowCreate, sdPerformCreate, sdPrompt], m) = True then
  begin
    mame.Emu.Ini.CORE_SEARCH_rompath.Insert(mame.Emu.Ini.CORE_SEARCH_rompath.Count, dir);
    FreeAndNil(vMame.Config.Panel.Dirs.Roms_VertScrollBox);
    uEmu_Arcade_Mame_Config_Create_RomPaths;
    uEmu_Arcade_Mame_Gamelist_Refresh;
  end
end;

procedure uEmu_Arcade_Mame_Config_Media_Find(vNum: Integer);
const
  m = 1000;
var
  dir: string;
begin
  dir := vMame.Config.Panel.Dirs.Media_Edit[vNum].Text;
  if SelectDirectory(dir, [sdAllowCreate, sdPerformCreate, sdPrompt], m) = True then
  begin
    dir := dir + '\';
    vMame.Config.Panel.Dirs.Media_Edit[vNum].Text := dir;
    case vNum of
      0:
        mame.Emu.Media.Artworks := dir;
      1:
        mame.Emu.Media.Cabinets := dir;
      2:
        mame.Emu.Media.Control_Panels := dir;
      3:
        mame.Emu.Media.Covers := dir;
      4:
        mame.Emu.Media.Flyers := dir;
      5:
        mame.Emu.Media.Fanart := dir;
      6:
        mame.Emu.Media.Icons := dir;
      7:
        mame.Emu.Media.Manuals := dir;
      8:
        mame.Emu.Media.Marquees := dir;
      9:
        mame.Emu.Media.Pcbs := dir;
      10:
        mame.Emu.Media.Snapshots := dir;
      11:
        mame.Emu.Media.Titles := dir;
      12:
        mame.Emu.Media.Artwork_Preview := dir;
      13:
        mame.Emu.Media.Bosses := dir;
      14:
        mame.Emu.Media.Ends := dir;
      15:
        mame.Emu.Media.How_To := dir;
      16:
        mame.Emu.Media.Logos := dir;
      17:
        mame.Emu.Media.Scores := dir;
      18:
        mame.Emu.Media.Selects := dir;
      19:
        mame.Emu.Media.Versus := dir;
      20:
        mame.Emu.Media.Game_Over := dir;
      21:
        mame.Emu.Media.Warnings := dir;
      22:
        mame.Emu.Media.Stamps := dir;
      23:
        mame.Emu.Media.Soundtracks := dir;
      24:
        mame.Emu.Media.Support_Files := dir;
      25:
        mame.Emu.Media.Videos := dir;
    end;

  end;
end;

{ TEMU_ARCACE_MAME_CONFIG_DIRECTORIES_TEXT }
{ procedure TEMU_ARCACE_MAME_CONFIG_DIRECTORIES_TEXT.onMouseClick(
  Sender: TObject);
  begin
  uEmu_Arcade_Mame_Config_CheckAndDowload('');
  end; }

{ procedure TEMU_ARCACE_MAME_CONFIG_DIRECTORIES_TEXT.onMouseEnter(Sender: TObject);
  begin
  TText(Sender).TextSettings.Font.Style:= TText(Sender).TextSettings.Font.Style+ [TFontStyle.fsUnderline];
  TText(Sender).TextSettings.FontColor:= claDeepskyblue;
  TText(Sender).Cursor:= crHandPoint;
  end;
  {
  procedure TEMU_ARCACE_MAME_CONFIG_DIRECTORIES_TEXT.onMouseLeave(Sender: TObject);
  begin
  TText(Sender).TextSettings.Font.Style:= TText(Sender).TextSettings.Font.Style- [TFontStyle.fsUnderline];
  if (extrafe.style.Name= 'Amakrits') or (extrafe.style.Name= 'Dark') or (extrafe.style.Name= 'Air') then
  TText(Sender).TextSettings.FontColor:= claWhite
  else
  TText(Sender).TextSettings.FontColor:= claBlack;
  TText(Sender).Cursor:= crDefault;
  end; }

/// /////////////////////////////////////////////////////////////////////////////
procedure uEmu_Arcade_Mame_Config_Directories_TabItemClick(vName: String);
begin
  if vName = 'Mame_Dir_Tab_Roms' then
    extrafe.prog.State := 'mame_config_dirs'
  else if vName = 'Mame_Dir_Tab_Media' then
    extrafe.prog.State := 'mame_config_media';
end;

end.
